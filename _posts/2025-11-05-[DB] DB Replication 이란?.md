---
title: "[DB] DB Replication 이란?"
date: 2025-11-05
categories: [DB]
tags: [TIL, DB]
---

# # DB Replication 이란?

DB Replication(데이터베이스 복제)은 하나의 데이터베이스 서버에서 다른 데이터베이스 서버로 데이터를 복사하고 동기화하는 과정을 의미한다. 이를 통해 데이터의 가용성, 내구성, 성능 향상 등을 도모할 수 있다.

<br /><br />

## # 주요 개념

1. **마스터-슬레이브 구조**: 일반적으로 하나의 마스터 서버가 쓰기 작업을 처리하고, 여러 개의 슬레이브 서버가 읽기 작업을 처리하는 구조이다. 마스터 서버에서 변경된 데이터는 슬레이브 서버로 복제된다.

2. **동기식 복제(Synchronous Replication)**: 데이터가 마스터와 슬레이브 서버 모두에 동시에 기록되는 방식으로, 데이터 일관성을 보장하지만 지연 시간이 증가할 수 있다.

3. **비동기식 복제(Asynchronous Replication)**: 데이터가 마스터 서버에 먼저 기록되고, 일정 시간 후에 슬레이브 서버로 복제되는 방식으로, 지연 시간이 적지만 데이터 일관성이 떨어질 수 있다.

<br /><br />

## # 바이너리 로그란?

바이너리 로그(Binary Log)는 MySQL과 같은 데이터베이스 시스템에서 사용되는 로그 파일로, 데이터베이스에서 발생한 모든 변경 사항(INSERT, UPDATE, DELETE 등)을 기록한다. 이 로그는 복제 과정에서 슬레이브 서버가 마스터 서버의 변경 사항을 적용하는 데 사용된다. 바이너리 로그를 통해 데이터베이스의 상태를 복원하거나 특정 시점으로 되돌릴 수도 있다.

<br />

### # 바이너리 로그를 저장하는 방식

**1. Row**

바이너리 로그에 실제 데이터 행의 변경 사항을 기록하는 방식이다. 예를 들어, 특정 행이 업데이트되면 그 행의 새로운 값이 로그에 저장된다. 이 방식은 데이터 일관성을 높이고 복제 성능을 향상시킬 수 있지만, 로그 파일의 크기가 커질 수 있다.

<br />

**2. Statement**

바이너리 로그에 실행된 SQL 문장을 기록하는 방식이다. 예를 들어, "UPDATE users SET name='John' WHERE id=1"과 같은 SQL 문장이 로그에 저장된다. 이 방식은 로그 파일의 크기를 줄일 수 있지만, 특정 상황에서는 데이터 일관성 문제가 발생할 수 있다.

<br />

**3. Mixed**

바이너리 로그에 Row 방식과 Statement 방식을 혼합하여 사용하는 방식이다. 데이터 변경의 특성에 따라 적절한 방식을 선택하여 기록함으로써, 데이터 일관성과 로그 파일 크기 사이의 균형을 맞출 수 있다.

<br /><br />

## # 복제 과정

1. **마스터 서버 설정**: 마스터 서버에서 바이너리 로그를 활성화하고, 복제에 사용할 사용자 계정을 생성한다.

2. **슬레이브 서버 설정**: 슬레이브 서버에서 마스터 서버의 정보를 설정하고, 복제를 시작한다.

3. **데이터 복제**: 슬레이브 서버는 마스터 서버의 바이너리 로그를 읽어 변경 사항을 적용한다.

<br /><br />

참고 : 
- [DB Replication에 대해서 설명해주세요.](https://www.maeil-mail.kr/question/109)
