---
title: "[CS] JPA에서의 ID 생성 전략"
date: 2025-10-02
categories: [CS]
tags: [TIL, CS]
---

# # JPA에서의 ID 생성 전략

JPA에서 ID를 생성하기 위해서는 직접 할당과 자동 할당을 사용할 수 있다.

<br /><br />

## # 직접 할당 (Manual Assignment)

직접 할당은 개발자가 직접 ID 값을 설정하는 방법이다. 이 방법은 간단하지만, ID 값의 중복을 방지하기 위해 신경 써야 한다.

```java
@Entity
public class User {
    @Id
    private Long id; // 직접 할당

    // 기타 필드 및 메서드
}
```

<br /><br />

## # 자동 할당 (Automatic Assignment)

자동 할당은 JPA가 ID 값을 자동으로 생성해주는 방법이다. 자동 할당에는 여러 전략이 있다.

<br /><br />

### 1. AUTO

`GenerationType.AUTO`는 JPA가 데이터베이스에 맞는 최적의 전략을 자동으로 선택하도록 한다. 이는 가장 일반적인 방법이다.

```java
@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;

    // 기타 필드 및 메서드
}
```

<br /><br />

### 2. IDENTITY

`GenerationType.IDENTITY`는 데이터베이스의 기본 키 생성을 사용한다. 주로 MySQL과 같은 데이터베이스에서 사용된다.

```java
@Entity

public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    // 기타 필드 및 메서드
}
```

<br /><br />

### 3. SEQUENCE

`GenerationType.SEQUENCE`는 데이터베이스 시퀀스를 사용하여 ID를 생성
한다. 주로 Oracle과 같은 데이터베이스에서 사용된다.

```java
@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "user_seq")
    @SequenceGenerator(name = "user_seq", sequenceName = "user_sequence", allocationSize = 1)
    private Long id;

    // 기타 필드 및 메서드
}
```

<br /><br />

### 4. TABLE

`GenerationType.TABLE`은 별도의 테이블을 사용하여 ID를 생성한다. 이
방법은 데이터베이스 독립성을 제공하지만, 성능이 떨어질 수 있다.

```java
@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.TABLE, generator = "user_table")
    @TableGenerator(name = "user_table", table = "id_generator", pkColumnName = "gen_name", valueColumnName = "gen_value", allocationSize = 1)
    private Long id;

    // 기타 필드 및 메서드
}
```

<br /><br />

참고 : 
- [JPA에서 ID 생성 전략에 대해 설명해주세요.](https://www.maeil-mail.kr/question/69)