---
title: "[프로젝트] 대용량 트래픽 처리 프로젝트(24.12.27)"
date: 2024-12-27
categories: [프로젝트]
tags: [TIL, 프로젝트]
---

## 서비스 기획하기

### # 기능

- 사용자
    - 로그인, 회원가입, 마이페이지, 회원 탈퇴, 회원 정보 수정, [아이디 찾기, 패스워드 찾기]
    - 권한
        - 관리자(마스터), 매니저(업체관리), 구매자, 판매자
    - 판매자
    - 관리자
    - 매니저
- 업체
    - (여기에 상품 등록을 분리?)
    - 업체 정보 등록,  수정, 업체 승인, 미승인 업체 목록 조회
- 상품
    - 상품 등록, 상품 수정, 상품 삭제, 상품 상세 조회, 상품 검색, 최저가 검색, 타임 세일 등록, 타임 세일 수정, 타임 세일 삭제, 타임 세일 조회
    - 리뷰
        - 리뷰 생성, 리뷰 수정, 리뷰 삭제, 리뷰 삭제
- 주문 및 결제
    - 상품 구매, 주문 상태 수정, 주문 내역 보기, 주문 취소, 주문 상태 조회, 쿠폰 적용
    - 결제
- 이벤트(이벤트, 쿠폰, 쿠폰 유저 매핑 테이블)
    - 쿠폰 조회
    - 쿠폰 사용 여부 변경
    - 쿠폰 발급

<br /><br />

### # 요구사항

<details>
<summary>사용자</summary>

    - 회원 가입(일반회원)
        - 입력값
            - 이메일, 패스워드, 닉네임, [전화번호]
            - 유효성 검사
                - 아이디 : 이메일 인증, 이메일 중복 체크
                - 패스워드 : 최소 8자 이상, 15자 이하이며 알파벳 대소문자(a~z, A~Z), 숫자(0~9), 특수문자
            - 관련 API
                - 중복 체크 API
                - 이메일 토큰이나 인증번호 전송 API
                - 인증 확인 API
                - 최종 회원 가입 API
    - 마이페이지
        - 출력 항목
            - 닉네임, 이메일, 주소
    - 회원 정보 수정
        - 입력 항목
            - 닉네임
            - 주소
                - 기본 배송지 수정
                - 주소 수정
                - 주소 삭제
                - 주소 추가
</details>

<details>
<summary>업체</summary>

    - 업체 등록
        - 업체 엔티티 분리
        - 입력 항목
            - 사업자등록번호(-없이 숫자만,10자리), 회사 전화번호, 담당자 정보(유저), 브랜드명, 회사 이메일, 승인상태
        - 유효성 검사
            - 회사 이메일 인증
            - 사업자등록번호 중복체크 서비스로직에서 체크
    - 업체 수정
        - 입력 항목
            - 회사 전화번호, [담당자 정보(유저)], 브랜드명, 회사 이메일
            - 담당자 변경은 도전 과제
        - 유효성 검사
            - 회사 이메일 인증
            - 사업자등록번호 중복체크 서비스로직에서 체크
    - 업체 승인
        - 권한
            - 마스터, 매니저
        - 유효성 검사
            - 권한이 있는지
        - 관련 API
            - 미승인 업체 목록 조회
                - 권한
                    - 마스터, 매니저
                - 유효성 검사
                    - 권한이 있는지
</details>

<details>
<summary>상품</summary>

    - 상품 등록
        - 권한
            - 업체, 관리자, 매니저
        - 입력 항목
            - 상품명, 가격, 수량, 카테고리, 업체 정보, 상품 설명, 상품 이미지 (테이블 분리), 썸네일 이미지, 상품 상태값(판매, 판매 중지, …etc), 별점 총 합 필드, 리뷰 수 필드, 할인 가격 필드
    - 상품 수정
        - 권한
            - 업체, 관리자, 매니저
        - 입력 항목
            - 상품명, 가격, 수량, 카테고리, 상품 설명, 상품 이미지 (테이블 분리), 썸네일 이미지, 상품 상태
    - 상품 삭제
        - 권한
            - 업체, 관리자, 매니저
    - 상품 상세 조회
        - 출력 항목
            - 등록할 때 입력 항목 모두 조회, 별점 평점, 리뷰 수
    - 최저가 검색
        - 권한
            - ALL
        - 출력 항목
            - 썸네일 이미지, 상품명, 가격. 별점 평점, 리뷰 수
    - 타임세일 등록
        - 권한
            - 업체, 관리자, 매니저
        - 입력 항목
            - 상품 정보, 시작 시간, 종료 시간, 할인율, 할인 후 가격, 할인 수량
        - 질문할 내용
            - 타임세일같은 경우 어떻게 이뤄지는지 업체에서 등록하는 건지, 커머스사에서 등록하는지 ****
            - 관리자가 진행하는 경우 입력데이터는 어떤식으로 설정해야하는지.
            - 데이터가 너무 많아서 하나하나 선택해서 지정하기 힘들어 보임
            - 특정 카테고리 세일? 랜덤으로 돌려서 세일? 실제 서비스 구현은?
        - 타임 세일 정책
            - 커머스 사 기획전 신청을 받는다.
                - 업체가 이를 확인하고 신청을 한다.
    - 타임세일 수정
        - 권한
            - 업체, 관리자, 매니저
        - 입력 항목
            - 상품 정보, 시작 시간, 종료 시간, 할인율, 할인 후 가격, 할인 수량
        - 정책
            - 시작 시간 이전에만 수정 가능
    - 타임세일 삭제
        - 권한
            - 업체, 관리자, 매니저
        - 정책
            - 시작 시간 이전에만 삭제 가능
    - 타임세일 조회
        - 권한
            - ALL
        - 출력 형식
            - 진행 중인 세일 품목 리스트
</details>

<details>
<summary>주문</summary>

    - 상품 구매
        - 권한
            
            ALL
            
        - 입력 형식
            - 주문된 상품 ID(리스트), 주문자 정보, 주소, 주문 상태(결제 대기, 결제 완료, 주문 취소, 배송 중), 결제 총 금액, 쿠폰 ID
            - 주문 상품 테이블 : 상품 정보, 수량, 상품에 대한 가격
            
            ```json
            {
            	"productList" : [ {"productId":1, "quantity":2},.....],
            	"username" : .......,
            	....
            }
            ```
            
    - 주문 상태 수정 [결제 연동할 때 형식 정의]
        - 권한
            - [관리자]
        - 입력 형식
            - 상태값
    - 주문 단건 취소
        - 권한
            - ALL
        - 입력 형식
            - 주문 번호, 주문된 상품 ID
            - 주문 상품 테이블 소프트 딜리트 처리
    - 주문 전체 취소
        - 권한
            - ALL
        - 입력 형식
            - 주문 번호
            - 주문 상품 테이블 소프트 딜리트 처리
- 결제
    - 결제 요청
    - 결제 취소
        - 부분 취소 고려해보기
</details>  


<details>
<summary>쿠폰</summary>

    - 랜덤 쿠폰 발급
        - 고려할 사항
            - 수량
            - 할인금액
                - 나중에 고도화 (할인율 적용)
            - 주문 최소 금액
            - 사용 기한
            - 랜덤 쿠폰 발행 예산
        - 고민 사항
            - 랜덤 쿠폰 발행 후 어떻게 발급?
                - 응모 테이블 따로 생성 후 신청 기록 저장 후
                - 신청 기록을 토대로 랜덤 발급.
            - api 한개 만들어서 호출하면 랜덤으로 선착순 발급
    - 선착순 쿠폰 발급
        - 고려할 사항
            - 수량
            - 할인 금액
                - 나중에 고도화 (할인율 적용)
            - 주문 최소 금액
            - 사용 기한
            - 발행 예산
            - 중복 수령 안됨
    - 테이블 구조
        - 이벤트 테이블 [구현하시는 분 재량]
            - 카테고리
                - 랜덤 쿠폰  (2순위)
                    - 꽝
                - 선착순 쿠폰 (1순위)
            - 발행 예산
        - 쿠폰 테이블
            - 이벤트 id
            - 쿠폰 id
            - 할인 금액
            - 수량
            - 발급수량
            - 주문 최소 금액
            - 사용 기한
        - 유저-쿠폰 매핑 테이블
            - 쿠폰 ID
            - 유저 ID(소유자)
            - 사용 여부
        - 내부 사용 API
            - 사용 여부 바꿔주기
            - 발급수량 증가
</details>

<details>
<summary>리뷰</summary>
    - 생성
        - 입력 형식
            - 구매자 닉네임, 평점, 후기, 이미지
        - 조건
            - 구매한 유저
            - 결제 완료
    - 수정
        - 입력 형식
            - 평점, 후기, 이미지
    - 삭제
    - 조회
</details>

<br /><br />
