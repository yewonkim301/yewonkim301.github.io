---
title: "[CS] 다중 서버 환경에서 세션 기반 인증 방식을 사용할 때 발생할 수 있는 문제"
date: 2025-11-07
categories: [CS]
tags: [TIL, CS]
---

# # 다중 서버 환경에서 세션 기반 인증 방식을 사용할 때 발생할 수 있는 문제

다중 서버 환경에서 세션 기반 인증 방식을 사용할 때 발생할 수 있는 주요 문제점은 "세션 일관성 유지"이다.

세션 기반 인증 방식에서는 사용자가 로그인할 때 서버가 세션 ID를 생성하고, 이 세션 ID를 통해 사용자의 인증 상태를 관리한다. 그러나 다중 서버 환경에서는 사용자가 요청을 보낼 때마다 다른 서버로 라우팅될 수 있다. 이로 인해 다음과 같은 문제가 발생할 수 있다.

1. **세션 정보 불일치**: 사용자가 A 서버에서 로그인한 후 B 서버로 요청을 보낼 경우, B 서버는 A 서버에서 생성된 세션 정보를 알지 못할 수 있다. 이로 인해 사용자는 인증되지 않은 상태로 간주될 수 있다.

2. **세션 동기화 문제**: 각 서버가 독립적으로 세션 정보를 관리할 경우, 세션 정보가 변경될 때마다 모든 서버에 이를 동기화해야 하는데, 이는 복잡하고 오류가 발생하기 쉬운 작업이다.

3. **로드 밸런싱 이슈**: 로드 밸런서가 요청을 분산시키는 과정에서 사용자가 동일한 서버에 연결되지 않을 수 있다. 이는 세션 기반 인증 방식에서 중요한 문제로 작용할 수 있다.

<br /><br />

### # 세션 불일치 문제를 해결하기 위한 방법

**1. 스티키 세션 방식**

스티키 세션(Sticky Session) 방식은 로드 밸런서가 특정 사용자의 요청을 항상 동일한 서버로 라우팅하도록 설정하는 방법이다. 이를 통해 사용자가 로그인한 서버에서 계속해서 세션 정보를 유지할 수 있다. 그러나 이 방법은 특정 서버에 부하가 집중될 수 있다는 단점이 있다.

<br />

**2. 세션 클러스터링 방식**

세션 클러스터링(Session Clustering) 방식은 모든 서버가 공통의 세션 저장소를 사용하도록 설정하는 방법이다. 예를 들어, Redis나 Memcached와 같은 인메모리 데이터베이스를 사용하여 세션 정보를 중앙에서 관리할 수 있다. 이를 통해 어떤 서버로 요청이 가더라도 동일한 세션 정보를 참조할 수 있다.

<br />

**3. 스토리지 분리 방식**

스토리지 분리(Storage Separation) 방식은 세션 정보를 데이터베이스나 외부 스토리지에 저장하는 방법이다. 이를 통해 모든 서버가 동일한 세션 정보를 참조할 수 있으며, 세션 동기화 문제를 해결할 수 있다. 다만, 데이터베이스 접근 속도가 느릴 수 있다는 단점이 있다.

<br /><br />

참고 : 
- [다중 서버 환경에서 세션 기반 인증 방식을 사용하는 경우 발생할 수 있는 문제점은 무엇인가요?](https://www.maeil-mail.kr/question/112)
