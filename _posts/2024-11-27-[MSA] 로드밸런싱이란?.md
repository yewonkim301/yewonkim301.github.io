---
title: "[MSA] λ΅λ“λ°Έλ°μ‹±μ΄λ€?"
date: 2024-11-27
categories: [MSA]
tags: [TIL, MSA]
image:
  path: /assets/img/til/msa.png
---

## π“ λ΅λ“λ°Έλ°μ‹±μ΄λ€?

- λ΅λ“ λ°Έλ°μ‹±μ€ λ„¤νΈμ›ν¬ νΈλν”½μ„ μ—¬λ¬ μ„λ²„λ΅ λ¶„μ‚°μ‹μΌ μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μ΄κ³ , μ‹μ¤ν…μ μ„±λ¥κ³Ό κ°€μ©μ„±μ„ λ†’μ΄λ” κΈ°μ μ΄λ‹¤.
- μ„λ²„ κ°„ νΈλν”½μ„ κ³ λ¥΄κ² λ¶„λ°°ν•μ—¬ νΉμ • μ„λ²„μ— λ¶€ν•κ°€ μ§‘μ¤‘λλ” κ²ƒμ„ λ°©μ§€ν•λ‹¤.

#### # ν΄λΌμ΄μ–΄νΈ μ‚¬μ΄λ“ λ΅λ“ λ°Έλ°μ‹±μ΄λ€?
- ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ΅λ“ λ°Έλ°μ‹±μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ μ—¬λ¬ μ„λ²„ μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•μ—¬ μ”μ²­μ„ λ³΄λ‚΄λ” λ°©μ‹μ΄λ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ λ©λ΅μ„ κ°€μ§€κ³  μμΌλ©°, μ΄λ¥Ό λ°”νƒ•μΌλ΅ λ΅λ“ λ°Έλ°μ‹±μ„ μν–‰ν•λ‹¤.

![img](/assets/img/til/lb.png)


### # λ΅λ“λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦

1. **λΌμ΄λ“ λ΅λΉ(Round Robin) μ•κ³ λ¦¬μ¦**
  - κ°€μ¥ μΌλ°μ μΈ μ•κ³ λ¦¬μ¦μ΄λ©°, κ° μ„λ²„μ— μμ°¨μ μΌλ΅ νΈλν”½μ„ λ¶„μ‚°μ‹ν‚¤λ” κ°„λ‹¨ν•κ³  ν¨μ¨μ μΈ λ°©λ²•μ΄λ‹¤.
  - μ¥μ  : κµ¬ν„μ΄ μ‰¬μ°λ©° κ³ λ¥Έ λ¶„μ‚°μ„ λ³΄μ¥ν•λ‹¤.
  - λ‹¨μ  : μ„λ²„ λ¶€ν•λ‚ μ‘λ‹µ μ‹κ°„μ„ κ³ λ ¤ν•μ§€ μ•κ³  μ„λ²„μ μ²λ¦¬ λ¥λ ¥μ΄ λ‹¤λ¥Έ κ²½μ° λΉ„ν¨μ¨μ μ΄λ‹¤.
<br />

2. **κ°€μ¤‘μΉ λΌμ΄λ“ λ΅λΉ(Weighted Round Robin) μ•κ³ λ¦¬μ¦**
  - λΌμ΄λ“ λ΅λΉ λ°©μ‹μ— κ°€μ¤‘μΉλΌλ” κ°λ…μ΄ μ¶”κ°€λ κ²ƒμΌλ΅, κ° μ„λ²„λ” μ²λ¦¬ λ¥λ ¥κ³Ό κ°€μ© μμ›μ— λ”°λΌμ„ κ°€μ¤‘μΉλ¥Ό ν• λ‹Ή λ°›κ² λλ‹¤. κ·Έλ¦¬κ³  λΌμ΄λ“ λ΅λΉ λ°©μ‹μ„ μ‚¬μ©ν•λ κ°€μ¤‘μΉκ°€ λ†’μ€ μ„λ²„λ” κ°€μ¤‘μΉμ— λΉ„λ΅€ν•μ—¬ μƒλ€μ μΌλ΅ λ”μ± λ§μ€ μ”μ²­μ„ λ°›κ² λλ‹¤.
  - μƒλ€μ μΌλ΅ κµ¬ν„μ΄ λ³µμ΅ν•μ§€λ§ κ° μ„λ²„μ μ²λ¦¬ λ¥λ ¥μ„ κ³ λ ¤ν•μ§€ μ•λ”λ‹¤λ” λΌμ΄λ“ λ΅λΉ λ°©μ‹μ λ‹¨μ μ„ κ°μ„ ν•  μ μλ‹¤.

![img](/assets/img/til/lb_weighted.png)

<br />

3. **μµμ† μ—°κ²°(Least Connections) μ•κ³ λ¦¬μ¦**
  - ν„μ¬ μ—°κ²° μκ°€ κ°€μ¥ μ μ€ μ„λ²„μ— νΈλν”½μ„ λ¶„μ‚°μ‹ν‚¤λ” λ°©λ²•μ΄λ©°, μ΄λ” μ„λ²„μ λ¶€ν•λ¥Ό κ· λ“±ν•κ² λ¶„μ‚°μ‹ν‚¤λ” λ° ν¨κ³Όμ μ΄λ‹¤.
<br />

4. **λλ¤(Random) μ•κ³ λ¦¬μ¦**
  - λ¬΄μ‘μ„λ΅ μ„λ²„μ— νΈλν”½μ„ λ¶„μ‚°μ‹ν‚¤λ” λ°©λ²•μ΄λ‹¤. κ°„λ‹¨ν•μ§€λ§, λ¶€ν• λ¶„μ‚°μ΄ κ· λ“±ν•μ§€ μ•μ„ μ μλ‹¤.
<br />

5. **IP ν•΄μ‹(IP Hash) μ•κ³ λ¦¬μ¦**
  - ν΄λΌμ΄μ–ΈνΈμ IP μ£Όμ†λ¥Ό κΈ°λ°μΌλ΅ νΈλν”½μ„ λ¶„μ‚°μ‹ν‚¤λ” λ°©λ²•μ΄λ©°, νΉμ • ν΄λΌμ΄μ–ΈνΈκ°€ ν•­μƒ κ°™μ€ μ„λ²„μ— μ—°κ²°λλ„λ΅ λ³΄μ¥ν•λ‹¤.
  - μ¥μ  : ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μΉν™”μ„± μ μ§€μ— μ΄μ μ„ λ§μ¶ λ°©μ‹μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ μƒνƒμ— κ΄€λ¦¬μ— μ©μ΄ν•λ‹¤.
  - λ‹¨μ  : μƒν™©μ— λ”°λΌμ„ λ¶€ν•κ°€ κ· λ“±ν•κ² μ΄λ£¨μ–΄μ§€μ§€ μ•λ”λ‹¤.

![img](/assets/img/til/lb_ip.png)

<br /><br />


μ°Έκ³  : 
- [MSAμ™€ λ΅λ“ λ°Έλ°μ‹±: ν¨μ¨μ μΈ μ‹μ¤ν… μ„¤κ³„](https://f-lab.kr/insight/msa-and-load-balancing-efficient-system-design-20240801)
- [[MSA] Spring Cloud Gateway (4) - Load Balancer](https://born2bedeveloper.tistory.com/59)
- [[Spring Boot] Spring Cloud Gateway -Load Balancer -MSA(5)](https://velog.io/@korea3611/Spring-Boot-Spring-Cloud-Gateway-Load-Balancer-MSA5)
- [MSA λ΅λ“ λ°Έλ°μ‹±(FeignClient, Ribbon)](https://velog.io/@qowl880/MSA-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%8B%B1FeignClient-Ribbon)
- [λ΅λ“ λ°Έλ°μ‹±μ— λ€ν•΄μ„ μ„¤λ…ν•΄μ£Όμ„Έμ”.](https://www.maeil-mail.kr/question/115)
