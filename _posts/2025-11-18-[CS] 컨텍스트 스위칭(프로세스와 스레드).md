---
title: "[CS] 컨텍스트 스위칭(프로세스와 스레드)"
date: 2025-11-18
categories: [CS]
tags: [TIL, CS]
---

# # 컨텍스트 스위칭(프로세스와 스레드)

## 1. 컨텍스트 스위칭이란?

컨텍스트 스위칭(Context Switching)은 운영체제에서 CPU가 한 프로세스나 스레드에서 다른 프로세스나 스레드로 전환되는 과정을 의미한다. 이 과정에서 현재 실행 중인 프로세스나 스레드의 상태(컨텍스트)를 저장하고, 새로 실행할 프로세스나 스레드의 상태를 복원하는 작업이 이루어진다.

<br /><br />

## 2. 프로세스와 스레드의 차이

- **프로세스(Process)**: 운영체제에서 실행 중인 프로그램의 인스턴스를 의미하며, 독립된 메모리 공간을 가진다. 각 프로세스는 자체적인 코드, 데이터, 스택 등을 가지고 있어 서로 간섭하지 않는다.

- **스레드(Thread)**: 프로세스 내에서 실행되는 작업 단위로, 동일한 메모리 공간을 공유한다. 여러 스레드가 하나의 프로세스 내에서 동시에 실행될 수 있으며, 자원 공유가 가능하다.

<br /><br />

## 3. 컨텍스트 스위칭이 필요한 이유

컨텍스트 스위칭은 멀티태스킹 환경에서 CPU 자원을 효율적으로 활용하기 위해 필요하다. 여러 프로세스나 스레드가 동시에 실행될 수 없기 때문에, 운영체제는 일정 시간 동안 하나의 프로세스나 스레드를 실행한 후, 다른 프로세스나 스레드로 전환하여 CPU 시간을 분배한다. 이를 통해 사용자에게 동시에 여러 작업이 수행되는 것처럼 보이게 한다.

<br /><br />

## 4. 프로세스와 스레드의 컨텍스트 스위칭 비교

| 구분        | 프로세스 컨텍스트 스위칭          | 스레드 컨텍스트 스위칭          |
|-------------|-------------------|--------------------------|
| 메모리 공간 | 독립된 메모리 공간을 가짐 | 동일한 메모리 공간을 공유함 |
| 오버헤드    | 상대적으로 높음 (메모리 맵핑 등) | 상대적으로 낮음 (공유 메모리 접근) |
| 속도        | 느림                     | 빠름                       |
| 자원 공유   | 불가능                   | 가능                       |


-> 프로세스 컨텍스트 스위칭은 독립된 메모리 공간을 관리해야 하므로 더 많은 오버헤드가 발생하며, 속도가 느리다. 반면, 스레드 컨텍스트 스위칭은 동일한 메모리 공간을 공유하기 때문에 오버헤드가 적고 속도가 빠르다.

<br /><br />

## 5. 컨텍스트 스위칭이 발생하는 시점

- 타임 슬라이스(Time Slice) 만료: 운영체제가 할당한 시간 동안 실행이 끝나면 다른 프로세스나 스레드로 전환.

- 입출력 작업 대기: 프로세스나 스레드가 입출력 작업을 기다리는 동안 다른 작업으로 전환.

- 우선순위 변경: 높은 우선순위를 가진 프로세스나 스레드가 실행되어야 할 때.

- 시스템 호출: 프로세스나 스레드가 시스템 호출을 수행할 때.

<br /><br />

## 6. 컨텍스트 스위칭의 과정

1. 현재 실행 중인 프로세스나 스레드의 상태 저장: CPU 레지스터, 프로그램 카운터, 스택 포인터 등의 정보를 PCB(Process Control Block)나 TCB(Thread Control Block)에 저장.

2. 스케줄러 호출: 운영체제의 스케줄러가 다음에 실행할 프로세스나 스레드를 선택.

3. 새 프로세스나 스레드의 상태 복원: 선택된 프로세스나 스레드의 상태를 PCB나 TCB에서 읽어와 CPU 레지스터 등에 복원.

4. 제어권 이전: CPU가 새 프로세스나 스레드로 제어를 이전하여 실행을 시작.

<br /><br />

참고 : 
- [프로세스보다 스레드의 컨텍스트 스위칭이 더 빠른 이유는 무엇인가요?](https://www.maeil-mail.kr/question/129)