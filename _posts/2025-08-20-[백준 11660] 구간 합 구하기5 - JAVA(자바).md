---
title: "[백준 11660] 구간 합 구하기5 - JAVA(자바)"
date: 2025-08-20
categories: [알고리즘]
tags: [알고리즘, 백준]
image:
  path: /assets/img/기본형3_java.png
---

### 문제

- [[백준] 11660](https://www.acmicpc.net/problem/11660)

![img](/assets/img/algorithm/백준11660_1.png)
![img](/assets/img/algorithm/백준11660_2.png)
<br /><br />

### 해결방법
- **DP(다이나믹 프로그래밍)** 활용하기
    - 2차원 배열의 구간 합을 구하기 위해 **누적합**을 이용한다
    - `dp[i][j]`는 (1,1)부터 (i,j)까지의 합을 저장
        - `dp[i][j]`= 위쪽 직사각형 + 왼쪽 직사각형 - 겹친 부분 + 현재 칸 값(`arr[i][j]`)
        ```
        (1,1) ┌───────────────┬───────────────┐
              │     A(겹침)    │       B       │
              ├───────────────┼───────────────┤
              │       C       │       D       │ ← (i,j)
              └───────────────┴───────────────┘
        ```
        - 즉, `dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1] + arr[i][j]`
    - 구간 합을 구할 때는 다음과 같은 공식을 사용한다
        - 큰 사각형(`dp[x2][y2]`)에서 위쪽과 왼쪽을 빼고, 두 번 빠진 겹친 부분을 다시 더한다
        ```
        (1,1) ┌───────────────┬───────────────┐
              │  위쪽(빼기)     │  위쪽(빼기)     │
              ├───────────────┼───────────────┤
              │  왼쪽(빼기)     │  우리가 원함     │ ← (x2,y2)
              └───────────────┴───────────────┘
                ↑             ↑
              (x1-1,*)     (*,y1-1)
        ```
        - 즉, `sum = dp[x2][y2] - dp[x1-1][y2] - dp[x2][y1-1] + dp[x1-1][y1-1]`

<br /><br />

### 코드

```java
import java.util.*;
import java.lang.*;
import java.io.*;

class Main {
    private static int n, m;
    private static int[][] arr;
    private static int[][] dp;
    private static int x1, y1, x2, y2;
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        arr = new int[n+1][n+1];
        dp = new int[n+1][n+1];

        for (int i = 1; i <= n; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 1; j <= n; j++) {
                arr[i][j] = Integer.parseInt(st.nextToken());
                dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1] + arr[i][j];
            }
        }

        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < m; i++) {
            st = new StringTokenizer(br.readLine());
            x1 = Integer.parseInt(st.nextToken());
            y1 = Integer.parseInt(st.nextToken());
            x2 = Integer.parseInt(st.nextToken());
            y2 = Integer.parseInt(st.nextToken());

            int sum = dp[x2][y2] - dp[x1-1][y2] - dp[x2][y1-1] + dp[x1-1][y1-1];
            sb.append(sum).append("\n");
        }
        System.out.println(sb);
    }
}
```