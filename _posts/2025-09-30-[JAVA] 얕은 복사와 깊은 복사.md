---
title: "[JAVA] 얕은 복사와 깊은 복사"
date: 2025-09-30
categories: [DB]
tags: [TIL, DB]
---

# # 얕은 복사와 깊은 복사의 차이

객체 지향 프로그래밍에서 객체를 복사하는 방법에는 **얕은 복사(Shallow Copy)**와 **깊은 복사(Deep Copy)** 두 가지 방식이 있다. 이 두 가지 방식은 객체가 참조하는 다른 객체들에 대해 어떻게 처리하는지에 따라 차이가 있다.

<br />

## 1. 얕은 복사 (Shallow Copy)

얕은 복사는 객체를 복사할 때, 객체의 필드 값만 복사하는 방식이다. 만약 객체가 다른 객체를 참조하고 있다면, **참조하는 객체의 주소값만 복사**하게 된다. 따라서 원본 객체와 복사된 객체가 동일한 참조 객체를 공유하게 된다.

```java
class Address {
    String city;
    String street;

    Address(String city, String street) {
        this.city = city;
        this.street = street;
    }
}

class Person {
    String name;
    Address address;

    Person(String name, Address address) {
        this.name = name;
        this.address = address;
    }

    // 얕은 복사 메서드
    public Person shallowCopy() {
        return new Person(this.name, this.address);
    }
}

public class Main {
    public static void main(String[] args) {
        Address address = new Address("Seoul", "Gangnam");
        Person original = new Person("John", address);
        Person copy = original.shallowCopy();

        // 원본 객체의 주소 변경
        original.address.city = "Busan";

        System.out.println("Original City: " + original.address.city); // Busan
        System.out.println("Copied City: " + copy.address.city);       // Busan
    }
}
```

<br /><br />

## 2. 깊은 복사 (Deep Copy)

깊은 복사는 객체를 복사할 때, **객체가 참조하는 모든 객체들도 재귀적으로 복사하는 방식**이다. 따라서 원본 객체와 복사된 객체가 **서로 독립적인 상태를 유지**하게 된다.

```java
class Address {
    String city;
    String street;

    Address(String city, String street) {
        this.city = city;
        this.street = street;
    }

    // 깊은 복사 메서드
    public Address deepCopy() {
        return new Address(this.city, this.street);
    }
}

class Person {
    String name;
    Address address;

    Person(String name, Address address) {
        this.name = name;
        this.address = address;
    }

    // 깊은 복사 메서드
    public Person deepCopy() {
        return new Person(this.name, this.address.deepCopy());
    }
}

public class Main {
    public static void main(String[] args) {
        Address address = new Address("Seoul", "Gangnam");
        Person original = new Person("John", address);
        Person copy = original.deepCopy();

        // 원본 객체의 주소 변경
        original.address.city = "Busan";

        System.out.println("Original City: " + original.address.city); // Busan
        System.out.println("Copied City: " + copy.address.city);       // Seoul
    }
}
```

<br /><br />

## 요약

- **얕은 복사**: 객체의 필드 값만 복사하며, 참조하는 객체는 공유됨.
- **깊은 복사**: 객체와 그 객체가 참조하는 모든 객체를 재귀적으로 복사하여 독립적인 상태를 유지함.

<br /><br />

참고 : 
- [얕은 복사와 깊은 복사에 대해서 설명해주세요.](https://www.maeil-mail.kr/question/62)